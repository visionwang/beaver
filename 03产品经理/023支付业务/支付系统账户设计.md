[支付系统设计：支付系统的账户模型（一）](http://www.woshipm.com/pd/459443.html)

#支付账户和登录账号
账户体系设计首先要区分两个概念，支付账户和登录账号。 这是两个不同业务领域的概念：支付账户指用户在支付系统中用于交易的资金所有者权益的凭证；登录账号 指用户在系统中的登录的凭证和个人信息。 一个用户可以有多个登录账户，一个登录账户可以有多个支付账户，比如零钱账户，储值卡账户等。 一般来说，支付账户不会在多个登录账户之间共用。如果没有特殊说明，下文中的账户，都默认指支付账户。

回想口碑的那个问题，关于账户，支付账户：【零钱账户，储值卡账户】，

#账户的设计需求
在支付系统中，账户的设置，主要是从如下几个方面来考虑：
1. 交易的需求，比如检查账户是否被锁定、余额是否足够、是否有效
2. 记账的需求，按照公司会计需求记录账户上的所有行为，包括支出、充值、转账等
3. 对账的需求，包括和支付渠道、商户、个人的对账需求，核对交易和账户余额是否正确
4. 风控的需求，如反洗钱、反欺诈等，都需要依赖于账户体系来提供核心数据。
5. 信用的需求，对用户、资产、商户等主体进行信用评估时，也需要依赖账户体系来提供核心数据。

这五个需求，按照其设计的优先级，也是从支付、记账、对账、风控来进行。 支付系统根据其发展所处的阶段，逐步将新增需求纳入设计中。

#交易与账户
账户设置，一般是从交易开始的。 交易的实现必须有账户的支持，账户是交易的基本构成元素。 从支付系统的角度，交易中涉及到的资金流是资金从一个账户流向另一个账户。 发起交易的一方，被称之为**交易主体**，他可以是个人，也可以是一个机构。
资金从该主体所拥有的账户中流出。 而接收交易的一方，被称为**交易对手**，他也可以是个人，或者机构。 和第三方支付或者金融机构的交易不同，电商系统中，交易还会涉及到**渠道**。

由于电商系统本身并无清结算的资质，所有资金从交易主体到交易对手的账户的流动，在大部分情况下，并没有经过电商系统，而是由电商系统调用支付渠道提供的接口，由它来完成真正的支付过程。 当然，渠道也不是活雷锋，在这过程中，**渠道要收取费用**。

所以，在电商系统中，一次交易会涉及到三个账户： **交易主体账户、交易对手账户以及支付渠道账户**。 如何在这三个账户中完成一次交易，我们将在后续的《交易和记账》一文中详细分析

#记账与账户


























