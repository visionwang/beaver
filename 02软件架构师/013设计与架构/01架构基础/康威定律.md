[每个架构师都应该研究下康威定律](http://36kr.com/p/5042735.html)

今天的分享主要来自我之前的工作经验以及平时的学习总结和思考。我之前的背景主要是做框架、系统和平台架构，之前的工作过的公司eBay、携程、唯品会都是平台型互联网公司，所以今天主要带着平台架构视角和大家分享心得体会。架构的视角每个人都不一样，可以说一万种眼光，有业务架构、安全架构、平台架构、数据架构，各不相同，这里仅是我的一家之言，欢迎大家加入『聊聊架构』社群参与讨论。今天聊的话题主要包括以下几点：


大概在7~8年前，我曾经有一个美国对口的架构师mentor，他对我讲架构其实是发现利益相关者（stakeholder），然后解决他们的关注点（concerns），后来我读到一本书《软件系统架构:使用视点和视角与利益相关者合作》，里面提到的理念也是这样说：**系统架构的目标是解决利益相关者的关注点。**

每个架构师都应该研究下康威定律

36氪的朋友们 • 2016-01-26 • 深氪
今天的分享主要来自我之前的工作经验以及平时的学习总结和思考。
编者按：这篇文章的分享者杨波具有超过10年的互联网分布式系统研发和架构经验，曾先后就职于eBay中国研发中心（eBay CDC）、携程、唯品会（VIPShop）等。本文由攀爬的蜗牛以及田光整理。36氪经授权转载自微信公众号“聊聊架构”。聊聊架构是InfoQ旗下的垂直社区，主要关注传统企业以及互联网企业的系统架构，微信号：archtime。

今天的分享主要来自我之前的工作经验以及平时的学习总结和思考。我之前的背景主要是做框架、系统和平台架构，之前的工作过的公司eBay、携程、唯品会都是平台型互联网公司，所以今天主要带着平台架构视角和大家分享心得体会。架构的视角每个人都不一样，可以说一万种眼光，有业务架构、安全架构、平台架构、数据架构，各不相同，这里仅是我的一家之言，欢迎大家加入『聊聊架构』社群参与讨论。今天聊的话题主要包括以下几点：

我对架构定义的理解
架构的迭代和演化性
构建闭环反馈架构（Architecting for closed loop feedback）
谈谈微服务架构和最新主题
架构和组织文化关系
架构师心态和软技能
我对一些架构师争议主题的看法
我对架构定义的理解
大概在7~8年前，我曾经有一个美国对口的架构师mentor，他对我讲架构其实是发现利益相关者（stakeholder），然后解决他们的关注点（concerns），后来我读到一本书《软件系统架构:使用视点和视角与利益相关者合作》，里面提到的理念也是这样说：系统架构的目标是解决利益相关者的关注点。

每个架构师都应该研究下康威定律


这是从那本书里头的一张截图，我之前公司分享架构定义常常用这张图，架构是这样定义的：

每个系统都有一个架构
架构由架构元素以及相互之间的关系构成
系统是为了满足利益相关者（stakeholder）的需求要构建的
利益相关者都有自己的关注点（concerns）
架构由架构文档描述
架构文档描述了一系列的架构视角
每个视角都解决并且对应到利益相关者的关注点。
架构系统前，架构师的首要任务是尽最大可能找出所有利益相关者，业务方，产品经理，客户/用户，开发经理，工程师，项目经理，测试人员，运维人员，产品运营人员等等都有可能是利益相关者，架构师要充分和利益相关者沟通，深入理解他们的关注点和痛点，并出架构解决这些关注点。架构师常犯错误是漏掉重要的利益相关者，沟通不充分，都会造成架构有欠缺，不能满足利益相关者的需求。利益相关者的关注点是有可能冲突的，比如管理层（可管理性）vs技术方（性能），业务方（多快好省）vs 技术方（可靠稳定），这需要架构师去灵活平衡，如何平衡体现了架构师的水平和价值。

关于架构的第二点定义是说架构主要关注非功能性需求（non-functional requirements），即所谓的-abilities。

每个架构师都应该研究下康威定律


这个是我上次公司内分享的一个图。

每个架构师都应该研究下康威定律


这个是slideshare一个ppt里头截取的，两个图都是列出了架构的非功能性关注点；关于架构的水平该如何衡量，去年我看到一句话，对我影响很大。

Architecture represents the significant design decisions that shape a system, wheresignificant is measured by cost of change.
翻译为中文就是，架构表示对一个系统的成型起关键作用的设计决策，架构定系统基本就成型了，这里的关键性可以由变化的成本来决定。这句话是Grady Booch说的，他是UML的创始人之一。

进一步展开讲，架构的目标是用于管理复杂性、易变性和不确定性，以确保在长期的系统演化过程中，一部分架构的变化不会对架构的其它部分产生不必要的负面影响。这样做可以确保业务和研发效率的敏捷，让应用的易变部分能够频繁地变化，对应用的其它部分的影响尽可能地小。

我刚入软件开发这个行业之出，谈的架构主要是性能，高可用等等。现在，见过无数遗留系统，特别是国内企业IT的现状，无数耦合性系统的遗留系统，不良的架构象手铐一样牢牢地限制住业务，升级替换成本非常巨大， 所以我更加关注可理解，可维护性，可扩展性，成本 。我想补充一句，创业公司创业之初获得好的架构师或技术CTO非常重要。

架构的迭代和演化性
我是属于老一代的架构师，99年参加工作。职业初学了很多RUP，统一软件过程的理念。RUP的理念对我的架构有很深的影响，RUP总结起来就是三个特点：

用例和风险驱动Use Case and risk driven
架构中心Architecture centric
迭代和增量Iterative and incremental
RUP很注重架构，提倡以架构和风险驱动，该开始一定要做端到端的原型prototype；通过压测验证架构可行性，然后在原型基础上持续迭代和增量式开发，开发->测试->调整架构->开发，循环，如下图所示：

每个架构师都应该研究下康威定律


从上图可以看出架构师要尽可能写代码，做测试，纸上谈兵式做架构而后丢给团队的作法非常不靠谱（除非是已经非常清晰成熟的领域）。另外，做技术架构的都有点完美主义倾向，一开始往往喜欢求大求全，忽视架构的演化和迭代性，这种倾向易造产品和用户之间不能形成有效快速反馈，产品不满足最终用户需求，继续看下面两个图：


每个架构师都应该研究下康威定律


每个架构师都应该研究下康威定律


第一个图是讲最小可用产品（Minimum Viable Product， MVP）理念，做出最小可用产品，尽快丢给用户试用，快速获取客户反馈，在此基础上不断迭代和演化架构和产品。第二个图是过度工程（Over Engineering）的问题，其实也是讲产品架构和用户之间没有形成有效的反馈闭环，架构师想的和客户想的不在一个方向上，通过最小可用产品，快速迭代反馈的策略，可以避免这种问题。注意，在系统真正地投入生产使用之前，再好的架构都只是假设，产品越晚被使用者使用，失败的成本和风险就越高，而小步行进，通过MVP快速实验，获取客户反馈，迭代演化产品，能有效地减少失败的成本和风险。

另外，多年的经验告诉我，架构，平台不是买来的，也不是用一个开源就能获得的，也不是设计出来，而是长期演化才能落地生根的给大家推荐两篇不错的微信文章（微信不能插入链接，根据题目Google下即可）：

58同城沈剑：好的架构源于不停地衍变，而非设计
宜人贷系统架构–高并发下的进化之路
两篇文章其实都是讲架构的迭代和演化性，值得每个架构师学习吸收。

构建闭环反馈架构
先分享一个链接，这几年对我架构影响最深的一篇文章。这篇文章是关于DevOps的，但对系统架构同样适用：http://itrevolution.com/the-three-ways-principles-underpinning-devops/ 

每个架构师都应该研究下康威定律


第一条道路，系统思维，开发驱动的组织机体，其能力不是制作软件，而是持续的交付客户价值，架构师需要有全局视角和系统思维（System Thinking），深入理解整个价值交付链，从业务需求、研发、测试、集成，到部署运维，这条价值链的效率并不依赖于单个或者几个环节，**局部优化的结果往往是全局受损**，架构师要站在系统高度去优化整个价值交付链，让企业和客户之间形成快速和高效的价值传递。






![](http://a.36krcnd.com/nil_class/a03e1249-2335-447c-ad5b-d6703abde2a4/1243.tmp.jpg!heading)
每个系统都有一个架构
架构由架构元素以及相互之间的关系构成
系统是为了满足利益相关者（stakeholder）的需求要构建的
利益相关者都有自己的关注点（concerns）
架构由架构文档描述
架构文档描述了一系列的架构视角
每个视角都解决并且对应到利益相关者的关注点。

有赞的的架构分析：多看多读多理解，加油！


